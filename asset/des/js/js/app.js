var insert=document.getElementById("insert"),inputbox=document.getElementById("inputbox"),filter=document.getElementById("filter"),todo__alllist=document.querySelector(".todo__all-list"),todo__filtercheckall=document.querySelector(".todo__filter-checkall"),inputcheckbox=document.getElementById("input-checkbox");function addList(e){let t=document.createElement("input");t.value=e,t.disabled=!0,t.classList.add("todo__input"),t.type="text",saveLocalTodo(e);let l=document.createElement("div");l.classList.add("todo__single-list");let o=document.createElement("button");o.innerHTML='<i class="fa fa-edit"></i>',o.classList.add("todo__edit-btn");let c=document.createElement("button");c.innerHTML='<i class="fa fa-trash"></i>',c.classList.add("todo__delete-btn");let d=document.createElement("button");d.innerHTML='<i class="fa fa-check"></i>',d.classList.add("todo__complate-btn");let a=document.createElement("input");a.setAttribute("type","checkbox"),a.classList.add("todo__checkbox"),l.appendChild(a),l.appendChild(t),l.appendChild(d),l.appendChild(o),l.appendChild(c),todo__alllist.appendChild(l),location.reload()}function editList(e){"todo__edit-btn"===e.classList[0]&&(editLocalTodo(e.parentElement),location.reload())}function removeList(e){if(console.log(e.classList[0]),"todo__delete-btn"===e.classList[0]){const t=e.parentElement;t.classList.add("todo__single-list_fall"),removeLocalTodo(t),t.addEventListener("transitionend",()=>{t.remove()})}}function complateList(e){if("todo__complate-btn"===e.classList[0]){const t=e.parentElement;t.classList.toggle("todo__single-list_complated")}}function saveLocalTodo(e){let t;t=null===localStorage.getItem("todos")?[]:JSON.parse(localStorage.getItem("todos")),t.push(e),localStorage.setItem("todos",JSON.stringify(t))}function showLocalTodo(){let n;n=null===localStorage.getItem("todos")?[]:JSON.parse(localStorage.getItem("todos"));for(let a=n.length;0<a;a--){let e=document.createElement("input");e.value=n[a-1],e.disabled=!0,e.classList.add("todo__input"),e.type="text";let t=document.createElement("div");t.classList.add("todo__single-list");let l=document.createElement("button");l.innerHTML='<i class="fa fa-edit"></i>',l.classList.add("todo__edit-btn");let o=document.createElement("button");o.innerHTML='<i class="fa fa-trash"></i>',o.classList.add("todo__delete-btn");let c=document.createElement("button");c.innerHTML='<i class="fa fa-check"></i>',c.classList.add("todo__complate-btn");let d=document.createElement("input");d.setAttribute("type","checkbox"),d.classList.add("todo__checkbox"),t.appendChild(d),t.appendChild(e),t.appendChild(c),t.appendChild(l),t.appendChild(o),todo__alllist.appendChild(t),c.addEventListener("click",()=>complateList(c)),l.addEventListener("click",()=>editList(l)),o.addEventListener("click",()=>removeList(o)),filter.addEventListener("change",()=>filterTodo(event)),d.addEventListener("click",()=>checkSelectAll(todo__alllist)),todo__filtercheckall.addEventListener("change",()=>checked(todo__filtercheckall)),inputcheckbox.addEventListener("click",()=>selectAll(inputcheckbox))}}function removeLocalTodo(e){let t;t=null===localStorage.getItem("todos")?[]:JSON.parse(localStorage.getItem("todos"));e=e.children[1].value;t.splice(t.indexOf(e),1),localStorage.setItem("todos",JSON.stringify(t))}function editLocalTodo(e){let t;t=null===localStorage.getItem("todos")?[]:JSON.parse(localStorage.getItem("todos"));var l=e.children[1].value,e=prompt("Enter : ",l);""===e?alert("Empty edit value....."):(t.splice(t.indexOf(l),1,e),localStorage.setItem("todos",JSON.stringify(t)))}function filterTodo(t){const e=todo__alllist.childNodes;e.forEach(function(e){switch(t.target.value){case"all":e.style.display="flex";break;case"complated":e.classList.contains("todo__single-list_complated")?e.style.display="flex":e.style.display="none";break;case"uncomplated":e.classList.contains("todo__single-list_complated")?e.style.display="none":e.style.display="flex"}})}function checked(e){let t=todo__alllist.childNodes;switch(e.value){case"delete":t.forEach(e=>{e.childNodes[0].checked&&(e.classList.add("todo__single-list_fall"),inputcheckbox.checked=!1,removeLocalTodo(e),e.addEventListener("transitionend",function(){e.remove()})),todo__filtercheckall.value=""},this);break;case"completed":t.forEach(e=>{e.childNodes[0].checked&&(e.classList.contains("todo__single-list_complated")||e.classList.toggle("todo__single-list_complated"),e.children[0].checked=!1,inputcheckbox.checked=!1),todo__filtercheckall.value=""});break;case"uncomplated":t.forEach(e=>{e.childNodes[0].checked&&(e.classList.contains("todo__single-list_complated")&&e.classList.toggle("todo__single-list_complated"),e.children[0].checked=!1,inputcheckbox.checked=!1),todo__filtercheckall.value=""})}}function selectAll(e){let t=todo__alllist.childNodes;0===t.length?(e.checked=!1,alert("No Data Available...")):(e.checked&&t.forEach(e=>{e.children[0].checked=!0}),!1===e.checked&&t.forEach(e=>{e.children[0].checked=!1}))}function checkSelectAll(e){let t=e.childNodes,l=0;t.forEach(e=>{!0===e.children[0].checked&&l++}),t.length==l?inputcheckbox.checked=!0:inputcheckbox.checked=!1}function check(e){""===inputbox.value?(e.preventDefault(),alert("Please enter your name ...")):(e.preventDefault(),addList(inputbox.value),alert("Add done ..."),task__input.value="")}insert.addEventListener("click",check),document.addEventListener("DOMContentLoaded",showLocalTodo);